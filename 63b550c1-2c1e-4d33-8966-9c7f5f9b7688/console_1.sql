create schema if not exists formation;

create table formation.particle_type
(
    particle_type_id   int4 not null
        constraint particle_type_id_pk primary key,
    particle_type_name text
);

insert into formation.particle_type(particle_type_id, particle_type_name)
values (1, 'person'),
       (2, 'company');

create table formation.particle
(
    particle_id         int4 not null
        constraint particle_id_pk primary key generated by default as identity,
    particle_name       text,
    particle_short_name text,
    particle_type_id    int4
        constraint particle_particle_type_fk references formation.particle_type (particle_type_id) default 1
);

create table formation.edge
(
    edge_id       int4 not null
        constraint edge_pk primary key generated by default as identity,
    particle_from int4
        constraint particle_from_particle_fk references formation.particle (particle_id),
    particle_to   int4
        constraint particle_to_particle_fk references formation.particle (particle_id),
    action_date   date,
    short_desc    text
);

insert into formation.particle (particle_short_name)
    values
('1978-1979 - Дитсадок'),
('Демчишин Василь'),
('Задерайко Богдан'),
('Аліна'),
('Школа 1-8 клас'),
('Стельмащук Олег'),
('Смалюх Таня'),
('Войтович Юра'),
('Возняк Надя'),
('Гринько Оксана'),
('Кулініч Тарас'),
('Буцяк Інна'),
('Горобець Галя'),
('Харачко Галя'),
('Тимчишин Петро'),
('Ріжко Олег'),
('Мамчур Юра'),
('Голинський ігор'),
('Горощак Юра'),
('Наконечна Леся'),
('Яцинич Вячеслав'),
('Школа 9-10 клас'),
('Мавдрик Володя'),
('Запотічний Тарас'),
('Дударик'),
('Андрушко Юра'),
('Клим''юк Роман'),
('Новосад Андріан'),
('Новосад Назар'),
('Говзан Тарас'),
('Говзан Ростик'),
('Сліпак Василь'),
('Гнатів Тарас'),
('Біщук Лесик'),
('Кузик Андрій'),
('Козак Тарас'),
('Кацал Микола'),
('Кацал Дмитро'),
('Чайківська Леся'),
('Лагола Тетяна'),
('Сулима Андрій'),
('Жеребецький Любомир'),
('Кашуба Ярослав'),
('Медучилище (Дударик)'),
('Юнак Віра'),
('Товдер Леся'),
('НДРТІ'),
('Шмитько Павло'),
('Галак Надя'),
('Можейка Лєна'),
('Верещинський Олег'),
('Сукач Олег'),
('ЛПІ (вечірній)'),
('Фролов Ростик'),
('Кривенко Саша'),
('Тандура Галя'),
('ЛПІ (стаціонар)'),
('Голополосов Костя'),
('Мальцев Костя'),
('Темніков Сергій'),
('Козлова Света'),
('Мойсей Василь'),
('Солоненко Саша'),
('Зал (Стрийська)'),
('Сукач Богдан'),
('Шерудило Борис'),
('Рязанов Володимир'),
('Альошина Маша'),
('Ільченко Сергій'),
('Михалевський Сергій'),
('Вася КГБіст'),
('Аптека'),
('Минка Валентина'),
('Іра'),
('Мислович Жанна'),
('Скайд Вест'),
('Рижа Нонна'),
('Суходольська Елена'),
('Ліпчинська Світлана'),
('Колесніков Володимир'),
('Гаджиєв Олег'),
('Ладнєв Андрій'),
('Рижий Вітя'),
('Парфенюк Сергій'),
('Перетяжко Андрій'),
('Рихлінський Андрій'),
('Гіруда'),
('Віка'),
('Йордана'),
('Наташа'),
('Амвей'),
('Путілов'),
('Щиголєви'),
('Грабар'),
('Костін'),
('Леша Оселедцев'),
('Каушан Юля'),
('Антон'),
('Новеком'),
('Шпинда Андрій'),
('Опрема-Львів ПС'),
('Пристаяк'),
('Орися'),
('Оксана'),
('Славко'),
('Орися (Шарм)'),
('Голіусов Кіріл'),
('Голєв Віталік'),
('Козак Андрій'),
('Автоплан'),
('Наташа Прокопенко'),
('Віталіна Буровська'),
('Титова'),
('Бондаренко'),
('Трегубов Борис'),
('Іван'),
('Халатурник'),
('Артуньян'),
('Савченко'),
('Славік Дерій'),
('Остроушко Сергій'),
('ПП'),
('Надія (укравто)'),
('Наталя (приватизація)'),
('Майдан 2004'),
('Міша (Косів)'),
('Приват Кредит'),
('Юля Пастушенко'),
('Юля Гудкова'),
('Анна Сотнік'),
('Наташа Большакова'),
('Оля Любуська'),
('Лариса Тиришкіна'),
('Віталій Йосифович'),
('Олександр Широков'),
('Скабєлкін'),
('Наташа (Росія)'),
('Іржи Паті'),
('Роман Кнаус'),
('Сергій Слюнько'),
('Таня Лисяк'),
('Паша Щербіюк'),
('Алена Чирикова'),
('Платінум'),
('Валя'),
('Володя Сенюк'),
('"Паучок"'),
('Надя Гайда'),
('Айкідо	'),
('Володимир Ващишин'),
('Міша Веселовський'),
('Олександр Козловський'),
('Вадим Черних'),
('Ольга Черних'),
('Ольга Козловська'),
('Олександр Корицький'),
('Олексій Ячменев'),
('Олексій (айті)'),
('Мирослав Михальчук'),
('Юрій Михальчук'),
('Андо'),
('Чіно'),
('Роберт Мастерд'),
('Джо Тамбу'),
('Віра'),
('Петя Мочернюк'),
('Костя (сальса)'),
('Олег Прокуда'),
('Юля Дика'),
('Наташа Карпова'),
('Авабук'),
('Давид'),
('Олександра Коваль'),
('Templatemonster'),
('Макс'),
('Бурт'),
('Мич'),
('Му'),
('Роксолана'),
('Мар''яна Гаврилів'),
('Руслан Зайц'),
('Рома Новіков'),
('Ксенія Гаврилейченко'),
('Назар Юзвишин'),
('Володимир Строгуш'),
('Альона Косоротова'),
('Саша (Анна Вагнер)'),
('Христина Качмар'),
('Марта Качмар'),
('Скотт'),
('Анфіса'),
('Юля Сербіна'),
('Наташа Безбородкіна'),
('Оксана Тимо'),
('Яша'),
('Игорь'),
('ФБ'),
('Герман Антонов'),
('Уляна Колодій'),
('Любомир Футорський'),
('Сергій Плюснін'),
('Сергій Іванов'),
('Війна 2014'),
('Ігор Верхола'),
('Давид (taskdrive)'),
('English	');

select * from formation.particle

select * from formation.particle_type;

select * from formation.edge;

f